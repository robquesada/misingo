{"changed":true,"filter":false,"title":"pets_controller.rb","tooltip":"/app/controllers/pets_controller.rb","value":"class PetsController < ApplicationController\n\n  def new\n    @pet = Pet.new\n    @editing = false\n  end\n  \n  def create\n    @pet = Pet.new(pet_params)\n    if @pet.save\n      redirect_to @pet\n    else\n      render 'new'\n    end\n  end\n\n  def show\n    @pet = Pet.find(params[:id])\n    @animal_type = AnimalType.find(@pet.id_animal_type)\n    @breed = Breed.find(@pet.id_breed)\n  end\n\n  def index\n    @pets = Pet.all\n  end\n\n  def edit\n    @pet = Pet.find(params[:id])\n    @editing = true\n  end\n\n  def update\n    @pet = Pet.find(params[:id])\n \n    if @pet.update(pet_params)\n      redirect_to @pet\n    else\n      render 'edit'\n    end\n  end\n\n  def destroy\n    @pet = Pet.find(params[:id])\n    @pet.destroy\n \n    redirect_to pets_path\n  end\n\n  private\n    def pet_params\n      params.require(:pet).permit(:name, :id_animal_type, :id_breed, :description, :sex, :avatar)\n    end\n\nend","undoManager":{"mark":22,"position":54,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":31},"end":{"row":19,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":4},"end":{"row":19,"column":29}},"text":"Breed.find(@pet.id_breed)"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":4},"end":{"row":18,"column":10}},"text":"@breed"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":4},"end":{"row":19,"column":10}},"text":"@breed"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":10},"end":{"row":19,"column":11}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":11},"end":{"row":19,"column":12}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":12},"end":{"row":19,"column":13}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":13},"end":{"row":18,"column":25}},"text":"where(id: 2)"},{"action":"removeText","range":{"start":{"row":18,"column":13},"end":{"row":19,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":12},"end":{"row":18,"column":13}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":11},"end":{"row":18,"column":12}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":10},"end":{"row":18,"column":11}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":9},"end":{"row":18,"column":10}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":8},"end":{"row":18,"column":9}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":7},"end":{"row":18,"column":8}},"text":"B"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":6},"end":{"row":18,"column":7}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":5},"end":{"row":18,"column":6}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":4},"end":{"row":18,"column":5}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":2},"end":{"row":18,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":2},"end":{"row":18,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":2},"end":{"row":18,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":2},"end":{"row":18,"column":3}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":3},"end":{"row":18,"column":4}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":2},"end":{"row":18,"column":31}},"text":"  @breed = Breed.where(id: 2)"},{"action":"insertText","range":{"start":{"row":18,"column":31},"end":{"row":19,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":19,"column":4},"end":{"row":19,"column":40}},"text":"  @breed = Breed.find(@pet.id_breed)"},{"action":"removeText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":18,"column":19},"end":{"row":18,"column":31}},"text":"where(id: 2)"},{"action":"removeText","range":{"start":{"row":18,"column":19},"end":{"row":19,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":18,"column":19},"end":{"row":18,"column":38}},"text":"find(@pet.id_breed)"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":4},"end":{"row":19,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":4},"end":{"row":18,"column":38}},"text":"@breed = Breed.find(@pet.id_breed)"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":5},"end":{"row":18,"column":10}},"text":"breed"},{"action":"insertText","range":{"start":{"row":18,"column":5},"end":{"row":18,"column":6}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":6},"end":{"row":18,"column":7}},"text":"m"},{"action":"insertText","range":{"start":{"row":18,"column":7},"end":{"row":18,"column":8}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":7},"end":{"row":18,"column":8}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":6},"end":{"row":18,"column":7}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":6},"end":{"row":18,"column":7}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":7},"end":{"row":18,"column":8}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":8},"end":{"row":18,"column":9}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":9},"end":{"row":18,"column":10}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":10},"end":{"row":18,"column":11}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":5},"end":{"row":18,"column":11}},"text":"animal"},{"action":"insertText","range":{"start":{"row":18,"column":5},"end":{"row":18,"column":16}},"text":"animal_type"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":19},"end":{"row":18,"column":24}},"text":"Breed"},{"action":"insertText","range":{"start":{"row":18,"column":19},"end":{"row":18,"column":20}},"text":"A"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":20},"end":{"row":18,"column":21}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":21},"end":{"row":18,"column":22}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":22},"end":{"row":18,"column":23}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":22},"end":{"row":18,"column":23}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":22},"end":{"row":18,"column":23}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":23},"end":{"row":18,"column":24}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":24},"end":{"row":18,"column":25}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":25},"end":{"row":18,"column":26}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":26},"end":{"row":18,"column":27}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":27},"end":{"row":18,"column":28}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":28},"end":{"row":18,"column":29}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":43},"end":{"row":18,"column":48}},"text":"breed"},{"action":"insertText","range":{"start":{"row":18,"column":43},"end":{"row":18,"column":44}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":44},"end":{"row":18,"column":45}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":45},"end":{"row":18,"column":46}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":46},"end":{"row":18,"column":47}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":47},"end":{"row":18,"column":48}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":48},"end":{"row":18,"column":49}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":40},"end":{"row":18,"column":49}},"text":"id_animal"},{"action":"insertText","range":{"start":{"row":18,"column":40},"end":{"row":18,"column":54}},"text":"id_animal_type"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":21,"column":0},"end":{"row":21,"column":17}},"text":"    p @breed.name"},{"action":"removeLines","range":{"start":{"row":20,"column":0},"end":{"row":21,"column":0}},"nl":"\n","lines":["    p \"SHOW\""]},{"action":"removeText","range":{"start":{"row":19,"column":38},"end":{"row":20,"column":0}},"text":"\n"}]}]]},"ace":{"folds":[],"scrolltop":37,"scrollleft":0,"selection":{"start":{"row":19,"column":38},"end":{"row":19,"column":38},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1413407822294}